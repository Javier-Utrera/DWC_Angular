<a [routerLink]="['/libro', libro.id] " [state]="{ libro: libro }" class="text-decoration-none">
  <div class="card mb-3 shadow-sm mx-auto" style="max-width: 260px;">
    
    <!-- üî• Contenedor de imagen peque√±o y centrado -->
    <div class="text-center p-2">
      <img [src]="libro.volumeInfo?.imageLinks?.thumbnail" class="img-fluid rounded"
           alt="Portada del libro" style="max-height: 200px; object-fit: contain;">
    </div>

    <div class="card-body d-flex flex-column text-center">
      <!-- üî• T√≠tulo y autor -->
      <h5 class="card-title text-truncate">{{ libro?.volumeInfo?.title || 'T√≠tulo no disponible' }}</h5>
      <p class="card-text text-muted small mb-1 text-truncate">
        <strong>Autor:</strong> {{ libro?.volumeInfo?.authors?.join(', ') || 'Desconocido' }}
      </p>

      <!-- üî• Fecha de publicaci√≥n -->
      <p class="card-text text-muted small">
        <strong>Publicado:</strong> {{ libro?.volumeInfo?.publishedDate || 'No disponible' }}
      </p>

      <!-- üî• Descripci√≥n compacta -->
      <p class="text-muted small flex-grow-1 text-truncate">
        {{ libro?.volumeInfo?.description || 'Sin descripci√≥n' }}
      </p>

      <!-- üî• Bot√≥n de ver m√°s -->
      <button class="btn btn-sm btn-primary mt-2 w-100">üìñ Ver detalles</button>

      <button class="btn" [class.btn-primary]="!esFavorito()" [class.btn-danger]="esFavorito()" (click)="toggleFavorito()">
        @if (esFavorito()) { ‚ùå Quitar de Favoritos } @else { ‚≠ê Agregar a Favoritos }
      </button>
      
    </div>
  </div>
</a>
